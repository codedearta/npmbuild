{
  "name": "atsdcf-ui",
  "version": "0.0.1-SNAPSHOT",
  "private": true,
  "description": "do a set version by running 'npm version <newversion>'",
  "repository": {
    "type": "git",
    "url": "https://github.com/ITV/atsdcf-ui.git"
  },
  "scripts": {
    "start": "npm run build:dev -s && npm run test -s && npm run watch -s",
    "test": "npm run test:clean -s && npm run test:karma:single -s && npm run test:copy -s",
    "stop": "killall node",
    "e2e": "npm run build:dev -s && parallelshell 'npm run serve -- 9999 -s' 'npm run test:protractor -s'",

    "build": "npm run less:build -s && npm run js:build -s && npm run js:uglify -s && npm run copy -s",
    "build:dev": "npm run less:build -s && npm run js:build -s && npm run copy:dev -s",
    "serve": "serve public --no-logs --port ",
    "livereload": "live-reload public --port 9091",
    "watch": "parallelshell 'npm run less:watch -s' 'npm run js:watch -s' 'npm run test:watch -s' 'npm run html:watch -s' 'npm run livereload -s' 'npm run serve -- 9090 -s'",
    "copy": "npm run html:copy -s && npm run config:copy -s",
    "copy:dev": "npm run html:copy:livereload -s && npm run config:copy -s",
    "js:watch": "chokidar 'client/js' -i='client/js/**/*.spec.js' -c 'npm run js:build -s'",
    "js:build": "npm run js:mkdir -s && npm run config:copy -s && npm run js:concat -s | npm run js:remove:strict -s | npm run js:add:strict -s && npm run js:add:header -s",
    "js:mkdir": "mkdir -p public/js",
    "js:concat": "cat client/js/app.js `find client/js/atsdcf -type f \\( -iname \"*.js\" ! -iname \"*.spec.js\" \\)`",
    "js:remove:strict": "sed 's/\"use strict\";//' | sed \"s/'use strict';//\"",
    "js:add:strict": "awk -v sq=\"'\" 'BEGIN { print sq \"use strict\" sq \";\"  }'1 > public/js/_app.js",
    "js:add:header": "bash header.sh | cat - public/js/_app.js > public/js/app.js && rm public/js/_app.js",
    "js:uglify": "uglifyjs public/js/app.js -o='public/js/app.min.js'",
    "less:watch": "chokidar 'client/css' -c 'npm run less:build -s'",
    "less:build": "npm run less:mkdir -s && npm run less:compile -s",
    "less:mkdir": "mkdir -p public/css",
    "less:compile": "lessc client/css/styles.less --include-path=client/css:public/vendor/bootstrap/less > public/css/app.css",
    "html:copy": "sed s_'js/app.js'_'js/app.min.js'_ client/index.html > public/index.html",
    "html:copy:livereload": "sed s_'</body>'_'<script src=\"//localhost:9091\"></script></body>'_ client/index.html > public/index.html",
    "html:watch" : "chokidar 'client/index.html' -c 'npm run html:copy:livereload -s'",
    "config:copy": "cp -r client/js/envConfig/ public/envConfig && cp client/js/config.js public/js/config.js",
    "test:watch": "chokidar 'client/js/**/*.spec.js' 'public/js/app.js' -c 'npm test -s'",
    "test:clean": "rm -rf test/reports && rm -rf test/coverage",
    "test:karma:single": "karma start ./test/karma.conf.js --singleRun",
    "test:copy": "cp -r test/coverage/**/lcov.info test/reports/lcov.info",
    "test:protractor": "protractor test/e2e.conf.js",
    "test:protractor:new": "protractor test/e2e.conf.js",
    "infoheader": "bash header.sh | cat - public/js/app.min.js > public/js/app2.min.js",
    "version": "node printJsonProperty.js ./package.json version",
    "name": "node printJsonProperty.js ./package.json name",
    "gitinfo": "git rev-parse HEAD | tr -d '\n'",

    "postinstall": "node node_modules/bower/bin/bower install --config.interactive=false; node node_modules/protractor/bin/webdriver-manager update"
  },
  "devDependencies": {
    "chokidar-cli": "latest",
    "jasmine-core": "latest",
    "karma-cli": "latest",
    "less": "latest",
    "less-plugin-clean-css": "latest",
    "phantomjs": "latest",
    "parallelshell": "latest",
    "uglify-js": "latest",
    "serve": "latest",
    "live-reload": "latest",
    
    "bower": "~1.3.5",
    "esprima": "*",
    "karma": "latest",
    "karma-coverage": "latest",
    "karma-jasmine": "latest",
    "karma-ng-html2js-preprocessor": "latest",
    "karma-phantomjs-launcher": "latest",
    "lodash": "~3.7.0",
    "protractor": "~2.1.0"
  }
}